{% extends 'base.html' %}
{% load static %}
{% block content %}
<body>
    <div style="position: fixed; right: 0; top: 0; height: 50px;">
        <audio controls autoplay loop id="audio_player">
            <source src="{% static 'horror/slienthill_bgm.wav' %}" type="audio/mpeg">
        </audio>
    </div>

    <form method="post" action="{% url 'gamepage' %}">
        {% csrf_token %}
        <label for="user_input">질문 입력:</label>
        <p></p>
        <!--<input type="text" name="user_input"  id="user_input" required>-->
        <textarea name="user_input" id="user_input" rows="5" cols="100" required></textarea>
        <button type="submit">전송</button>
    </form>
    <div>
        <div>
            <h5>
                <p>{{user_input}}</p>
                {{Data}}
            </h5>
        </div>
    </div>
    
    <script>
        // 오디오 파일의 URL을 배열에 추가합니다.
        var audioFiles = [
            "{% static 'horror/slienthill_bgm.wav' %}",
            "{% static 'horror/hideandseek_mr_orgelvr.wav' %}",
        ];

        window.onload = function() {
            // 배열에서 랜덤으로 URL을 선택합니다.
            var randomIndex = Math.floor(Math.random() * audioFiles.length);
            var randomAudioFile = audioFiles[randomIndex];

            // 오디오 플레이어의 source를 랜덤으로 선택한 URL로 설정합니다.
            var audioPlayer = document.getElementById('audio_player');
            audioPlayer.src = randomAudioFile;

            // 오디오를 재생합니다.
            audioPlayer.play();
        };
    </script>
</body>
{% endblock content %}