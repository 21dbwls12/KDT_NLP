{% extends 'project-base.html' %}
{% block content %}
{% load static %}
    <div style="position: fixed; right: 0; top: 0; z-index: 2;">
        <audio controls autoplay loop id="audio_player">
            <!-- <source src = "{% static 'underthesea.wav' %}" type="audio/wav"> -->
        </audio>
        <select id="audio_select" style="position: fixed; right: 0; margin-top: 3.5%;">
            <option value=""></option>
        </select>
    </div>
    <div style="font-family: YeongdeokSea, YeongdeokSeaWoff; display: flex; width: 100vw; height: 100vh;" >
        <img src="{% static 'startturtle.jpg' %}" alt="turtlesoupstart" class="page">
        <form action="{% url 'gamestart' %}" method="post" id="startturtle">
            {% csrf_token %}
            <input type="hidden" name="user_input" value="turtle">
            <!-- <input type="submit" value="ê²Œì„ ì‹œì‘" class="turtlebutton" style="position: absolute; bottom: 10%; left: 10%; font-family: YeongdeokSea;"> -->
            <button id="turtlebutton" type="submit" name="action" value="start" class="turtlebutton" style="position: absolute; bottom: 30%; left: 10%; font-family: YeongdeokSea;">
                <img id="turtlebuttonwave" src="{% static 'wave.gif' %}" alt="wave for button" style="object-fit: crop; display: none;">
                <span id="turtlebuttontext">ê²Œì„ ì‹œì‘</span>
            </button>
            <button id="continueturtlebutton" type="submit" name="action" value="continue" class="turtlebutton" style="position: absolute; bottom: 10%; left: 10%; font-family: YeongdeokSea;">
                <img id="continueturtlebuttonwave" src="{% static 'wave.gif' %}" alt="wave for button" style="object-fit: crop; display: none;">
                <span id="turtlebuttontext">ì´ì–´í•˜ê¸°</span>
            </button>
        </form>

        <div class="description">
            <h1 style="text-align: center; color: aliceblue;">ë°”ë‹¤ê±°ë¶ì´ ìˆ˜í”„ ê²Œì„</h1>
            <br>
            <h3 style="color: aliceblue;">ì£¼ì–´ì§„ ë¬¸ì œì— ì§ˆë¬¸ì„ í•˜ë©´ AIê°€ ë‹µì„ ì¤ë‹ˆë‹¤.<br>ê·¸ ë‹µì„ ì¢…í•©í•´ì„œ ìŠ¤ìŠ¤ë¡œ ë‹µì„ ì°¾ì•„ê°€ëŠ” ê²Œì„ì…ë‹ˆë‹¤.</h3>
            <br>
            <h3 style="color: aliceblue;">ê²Œì„ ë°©ë²•</h3>
            <div style="font-weight: 400; font-size: 1.1rem; color:aliceblue;">
                <p>1. ì‹œì‘í•˜ë ¤ë©´ 'ì‹œì‘', 'ì•ˆë…•'ë“±ì˜ ë¬¸êµ¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</p>
                <p>2. AIê°€ ë¬¸ì œë¥¼ ë³´ë‚´ì¤ë‹ˆë‹¤.</p>
                <p>3. ë¬¸ì œë¥¼ ë³´ê³  ì§ˆë¬¸ì„ í•˜ì„¸ìš”.</p>
                <p>4. ì§ˆë¬¸ì— ëŒ€í•œ ë‹µìœ¼ë¡œ ë¬¸ì œì— ëŒ€í•œ ì •ë‹µì„ ì¶”ë¡ í•˜ì„¸ìš”.</p>
            </div>
            <br>
            <h3 style="color: aliceblue;">ì£¼ì˜ ì‚¬í•­</h3>
            <div style="font-weight: 400; font-size: 1.1rem; color:aliceblue; display: flex; flex-direction: column; align-items: center;">
                <div style="display: flex; flex-direction: row;">
                    <a>ğŸ‘¹</a>
                    <div>ë¡œë”©ì‹œê°„ì´ ê¸¸ì–´ìš”. í•œ ë²ˆ ì‘ë‹µì„ ë³´ë‚¸ í›„ ë¡œë”© ì¤‘ì¼ë•Œ í•œ ë²ˆë” ì—”í„°ë¥¼ ì¹˜ê±°ë‚˜ ì „ì†¡ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì˜¤ë¥˜ê°€ ë‚©ë‹ˆë‹¤. ì²œì²œíˆ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”. ë§Œì•½ ì˜¤ë¥˜ê°€ ë‚¬ë‹¤ë©´ ê²Œì„ ì„ íƒ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°€ ì´ì–´í•˜ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>
                </div>
                <div style="display: flex; flex-direction: row;">
                    <a>ğŸ‘¹</a>
                    <div>ê²Œì„ ì‹œì‘ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ëª¨ë“  ë‚´ìš©ì´ ì´ˆê¸°í™” ë©ë‹ˆë‹¤.</div>
                    <!-- <p>3. ë¬¸ì œë¥¼ ë³´ê³  ì§ˆë¬¸ì„ í•˜ì„¸ìš”.</p> -->
                    <!-- <p>4. ì§ˆë¬¸ì— ëŒ€í•œ ë‹µìœ¼ë¡œ ë¬¸ì œì— ëŒ€í•œ ì •ë‹µì„ ì¶”ë¡ í•˜ì„¸ìš”.</p> -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì˜¤ë””ì˜¤ íŒŒì¼ì˜ URLì„ ë°°ì—´ì— ì¶”ê°€í•©ë‹ˆë‹¤.
        var escapeaudioFiles = [
            {name: "Hide and Seek", path: "{% static 'escape/hideandseek_mr_orgelvr.wav' %}"},
            {name: "Harry Potter", path: "{% static 'escape/harrypotter.wav' %}"},
            {name: "Alice's Theme", path: "{% static 'escape/alicestheme.wav' %}"},
        ];
        var turtleaudioFiles = [
            {name: "Binks' Brew", path: "{% static 'turtle/onepieceost.wav' %}"},
            {name: "Under the sea", path: "{% static 'turtle/underthesea.wav' %}"},
            {name: "Rolling Down to Old Maui", path: "{% static 'turtle/rollingdowntooldmaui.wav' %}"},
        ];

        window.onload = function() {
            // ë°°ì—´ì—ì„œ ëœë¤ìœ¼ë¡œ URLì„ ì„ íƒí•©ë‹ˆë‹¤.
            var randomIndex = Math.floor(Math.random() * turtleaudioFiles.length);
            var randomAudioFile = turtleaudioFiles[randomIndex];

            // ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ì˜ sourceë¥¼ ëœë¤ìœ¼ë¡œ ì„ íƒí•œ URLë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
            var audioPlayer = document.getElementById('audio_player');

            // audioSelect.value = randomAudioFile.name;
            audioPlayer.src = randomAudioFile.path;
            // ì˜¤ë””ì˜¤ë¥¼ ì¬ìƒí•©ë‹ˆë‹¤.
            audioPlayer.play();

            var audioSelect = document.getElementById('audio_select');
            
            for (var i = 0; i < turtleaudioFiles.length; i++) {
                var option = document.createElement('option');
                option.value = turtleaudioFiles[i].path;
                option.text = turtleaudioFiles[i].name;
                audioSelect.appendChild(option);
            }
            
            audioSelect.onchange = function() {
                audioPlayer.src = audioSelect.value;
                audioPlayer.play();
            }

            audioPlayer.volume = 0.1;
        };

        document.getElementById('turtlebutton').addEventListener('mouseover', function() {
            document.getElementById('turtlebuttonwave').style.display = 'inline-block';
        });

        document.getElementById('turtlebutton').addEventListener('mouseout', function() {
            document.getElementById('turtlebuttonwave').style.display = 'none';
        });

        document.getElementById('continueturtlebutton').addEventListener('mouseover', function() {
            document.getElementById('continueturtlebuttonwave').style.display = 'inline-block';
        });

        document.getElementById('continueturtlebutton').addEventListener('mouseout', function() {
            document.getElementById('continueturtlebuttonwave').style.display = 'none';
        });
    </script>    
{% endblock content %}